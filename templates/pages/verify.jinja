{% extends "bases/root.jinja" %}

{% block title %}Home{% endblock %}

{% block imports %}
  <script src="{{ url_for('static', filename='callbacks.js') }}"></script>
{% endblock %}

{% block content %}
  <div class="container mx-auto flex h-full items-center justify-center mt-16">
    <div class="card card-dash bg-base-200 w-96">
      <div class="card-body" id="card">
        <h2 class="card-title">Hey there, {{ user.display_name }}!</h2>
        <p>
          <b>"{{ server.name }}"</b> requires you to verify your identity before you
          can proceed.
        </p>
        <p class="text-sm font-light italic">
          Please wait while we verify your identity.
        </p>
        <form
          hx-post="/verify/{{ id }}"
          hx-trigger="captcha-completed"
          hx-target="body"
          id="captcha-form"
        >
          <div
            class="cf-turnstile border-base-300 bg-base-300 mt-4 rounded-md border border-2 p-2"
            data-sitekey="1x00000000000000000000AA"
            data-size="flexible"
            data-refresh-expired="auto"
            data-callback="successCallback"
          ></div>
        </form>
      </div>
    </div>
  </div>
{% endblock %}
